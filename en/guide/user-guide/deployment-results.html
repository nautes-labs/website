<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>View Pipeline and Deployment Results | Nautes</title>
    <meta name="generator" content="VuePress 1.9.9">
    
    <meta name="description" content="Kubernetes-native all-in-one Internal Developer Platform">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.c2c28341.css" as="style"><link rel="preload" href="/assets/js/app.74e57857.js" as="script"><link rel="preload" href="/assets/js/2.5cda13a8.js" as="script"><link rel="preload" href="/assets/js/3.bdfef2d9.js" as="script"><link rel="prefetch" href="/assets/js/10.077a8dd1.js"><link rel="prefetch" href="/assets/js/11.a66bdba2.js"><link rel="prefetch" href="/assets/js/12.debc7c72.js"><link rel="prefetch" href="/assets/js/13.dee35591.js"><link rel="prefetch" href="/assets/js/14.b13bc8ba.js"><link rel="prefetch" href="/assets/js/15.e37f3143.js"><link rel="prefetch" href="/assets/js/16.69ba4994.js"><link rel="prefetch" href="/assets/js/17.e9bfa8b1.js"><link rel="prefetch" href="/assets/js/18.9fd6e6d1.js"><link rel="prefetch" href="/assets/js/19.b4c42f8a.js"><link rel="prefetch" href="/assets/js/20.fecb0727.js"><link rel="prefetch" href="/assets/js/21.b2de65cb.js"><link rel="prefetch" href="/assets/js/22.330d2936.js"><link rel="prefetch" href="/assets/js/23.a8d31b0b.js"><link rel="prefetch" href="/assets/js/24.6ac4a85f.js"><link rel="prefetch" href="/assets/js/25.76d4b3d3.js"><link rel="prefetch" href="/assets/js/26.f374973e.js"><link rel="prefetch" href="/assets/js/27.4c801238.js"><link rel="prefetch" href="/assets/js/28.773104f6.js"><link rel="prefetch" href="/assets/js/29.c3fd851b.js"><link rel="prefetch" href="/assets/js/30.973bc71d.js"><link rel="prefetch" href="/assets/js/31.b5842936.js"><link rel="prefetch" href="/assets/js/32.72b46c58.js"><link rel="prefetch" href="/assets/js/33.01d5cbc4.js"><link rel="prefetch" href="/assets/js/34.0dbcbadb.js"><link rel="prefetch" href="/assets/js/35.0d4a5e3c.js"><link rel="prefetch" href="/assets/js/36.a0574e4c.js"><link rel="prefetch" href="/assets/js/37.3fe72c83.js"><link rel="prefetch" href="/assets/js/38.cccd8d80.js"><link rel="prefetch" href="/assets/js/39.7fefd5bb.js"><link rel="prefetch" href="/assets/js/4.87042b1d.js"><link rel="prefetch" href="/assets/js/40.e98dad47.js"><link rel="prefetch" href="/assets/js/41.893b5abd.js"><link rel="prefetch" href="/assets/js/42.f8b4367e.js"><link rel="prefetch" href="/assets/js/43.892b3a43.js"><link rel="prefetch" href="/assets/js/44.e6d6fd8e.js"><link rel="prefetch" href="/assets/js/45.b77dbb4e.js"><link rel="prefetch" href="/assets/js/46.1cff1261.js"><link rel="prefetch" href="/assets/js/47.97b60e6c.js"><link rel="prefetch" href="/assets/js/48.6393c3ac.js"><link rel="prefetch" href="/assets/js/49.8b628ada.js"><link rel="prefetch" href="/assets/js/5.d7f38eb0.js"><link rel="prefetch" href="/assets/js/50.bf9032a0.js"><link rel="prefetch" href="/assets/js/51.6782390f.js"><link rel="prefetch" href="/assets/js/52.5c1b4aba.js"><link rel="prefetch" href="/assets/js/53.23cfacf6.js"><link rel="prefetch" href="/assets/js/54.884bd0bb.js"><link rel="prefetch" href="/assets/js/55.7ffcbf90.js"><link rel="prefetch" href="/assets/js/56.ecf22cbe.js"><link rel="prefetch" href="/assets/js/57.99558ab8.js"><link rel="prefetch" href="/assets/js/58.1b9de39a.js"><link rel="prefetch" href="/assets/js/59.3e8ccf77.js"><link rel="prefetch" href="/assets/js/6.08b03b29.js"><link rel="prefetch" href="/assets/js/7.57051b0f.js"><link rel="prefetch" href="/assets/js/8.d80c16bd.js"><link rel="prefetch" href="/assets/js/9.568b32c0.js">
    <link rel="stylesheet" href="/assets/css/0.styles.c2c28341.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/en/" class="home-link router-link-active"><!----> <span class="site-name">Nautes</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/en/guide/user-guide/introduction.html" class="nav-link">
  Document
</a></div><div class="nav-item"><a href="/en/api/introduction.html" class="nav-link">
  API
</a></div><div class="nav-item"><a href="https://github.com/nautes-labs/nautes" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/en/guide/user-guide/deployment-results.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/guide/user-guide/deployment-results.html" class="nav-link">
  中文
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/en/guide/user-guide/introduction.html" class="nav-link">
  Document
</a></div><div class="nav-item"><a href="/en/api/introduction.html" class="nav-link">
  API
</a></div><div class="nav-item"><a href="https://github.com/nautes-labs/nautes" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/en/guide/user-guide/deployment-results.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/guide/user-guide/deployment-results.html" class="nav-link">
  中文
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Getting Started</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/en/guide/user-guide/introduction.html" class="sidebar-link">Overview</a></li><li><a href="/en/guide/user-guide/installation.html" class="sidebar-link">Installation</a></li><li><a href="/en/guide/user-guide/run-a-pipeline.html" class="sidebar-link">Run a Pipeline</a></li><li><a href="/en/guide/user-guide/deploy-an-application.html" class="sidebar-link">Deploy an Application</a></li><li><a href="/en/guide/user-guide/clean-environment.html" class="sidebar-link">Clean Up the Environment</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>User Guide</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/en/guide/user-guide/main-process.html" class="sidebar-link">Main Process</a></li><li><a href="/en/guide/user-guide/cluster.html" class="sidebar-link">Register Runtime Cluster</a></li><li><a href="/en/guide/user-guide/product.html" class="sidebar-link">Maintain Product</a></li><li><a href="/en/guide/user-guide/project.html" class="sidebar-link">Maintain Project</a></li><li><a href="/en/guide/user-guide/code-repo.html" class="sidebar-link">Maintain Code Repository and its Authorization</a></li><li><a href="/en/guide/user-guide/environment.html" class="sidebar-link">Maintain Environment</a></li><li><a href="/en/guide/user-guide/deployment-runtime.html" class="sidebar-link">Maintain Deployment-Runtime</a></li><li><a href="/en/guide/user-guide/deployment-results.html" aria-current="page" class="active sidebar-link">View Pipeline and Deployment Results</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/en/guide/user-guide/deployment-results.html#view-pipeline" class="sidebar-link">View Pipeline</a></li><li class="sidebar-sub-header"><a href="/en/guide/user-guide/deployment-results.html#view-deployment-results" class="sidebar-link">View Deployment Results</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="view-pipeline-and-deployment-results"><a href="#view-pipeline-and-deployment-results" class="header-anchor">#</a> View Pipeline and Deployment Results</h1> <p>Before starting this section, please ensure that you have read the <a href="/en/guide/user-guide/main-process.html">Main Process</a> section to understand the main process and related terminology for running pipelines and deploying applications in Nautes, and you have created at least one <a href="/en/guide/user-guide/project-pipeline-runtime.html#create-and-update-pipeline-runtime-api">pipeline runtime</a> or <a href="/en/guide/user-guide/deployment-runtime.html#create-and-update-deployment-runtime-api">deployment runtime</a>.</p> <p>You can view the pipeline information using the Tekton Dashboard and the image repository console, and view the deployment information of the applications using the ArgoCD console and the kubectl command line.</p> <h2 id="view-pipeline"><a href="#view-pipeline" class="header-anchor">#</a> View Pipeline</h2> <h3 id="view-resources-in-tekton-dashboard"><a href="#view-resources-in-tekton-dashboard" class="header-anchor">#</a> View Resources in Tekton Dashboard</h3> <p>You can view the pipelines in the Tekton Dashboard installed in the runtime cluster by using a browser to access <code>https://$tekonHost:$traefik-httpsNodePort</code>.</p> <blockquote><p>Replace the $tekonHost variable with the tekonHost address of the runtime cluster. For more information, refer to <code>spec.tekonHost</code> in the property template in the <a href="/en/guide/user-guide/run-a-pipeline.html#register-physical-cluster">Register Physical Cluster</a> or <a href="/en/guide/user-guide/run-a-pipeline.html#register-virtual-cluster">Register Virtual Cluster</a> section, for example, <code>tekton.vcluster-aliyun.8.217.50.114.nip.io</code>.</p> <p>Replace the $traefik-httpsNodePort variable with the traefik port of the runtime cluster. For more information, refer to <code>spec.traefik.httpsNodePort</code> in the property template in the <a href="/en/guide/user-guide/run-a-pipeline.html#register-physical-cluster">Register Physical Cluster</a> or <a href="/en/guide/user-guide/run-a-pipeline.html#register-virtual-cluster">Register Virtual Cluster</a> section, for example, <code>30443</code>.</p></blockquote> <p>When you access the Tekton Dashboard, if you haven't logged into the GitLab in the current browser session, the action will trigger unified authentication. During the authentication process, you need to enter your GitLab account and password to log in. After successful login, the page will automatically redirect to the Tekton Dashboard.</p> <p>The Tekton Dashboard will present the namespaces authorized for you (with the same name as the project pipeline runtimes) and their related resources, including pipelines, pipelineruns, tasks, taskruns, and pipelineresources, etc.</p> <p>By clicking on a pipeline record, you can view YAML, create pipelineruns, and view related pipelineruns. By clicking on a pipelinerun record, you can view the status, execution time, and running time of the pipelinerun, the parameters, status, logs, and YAML of the taskruns, and perform operations such as rerunning, starting and stopping, and deleting the pipelinerun.</p> <p><img src="/assets/img/pipeline-results-1.324ac73a.png" alt="directive syntax graph"></p> <h3 id="view-images-in-image-repository"><a href="#view-images-in-image-repository" class="header-anchor">#</a> View Images in Image Repository</h3> <p>If the pipelines include tasks to build images and have been successfully executed, you can view the newly added images in the image repository (for example: <code>https://github.com/orgs/nautes-labs/packages</code>). To pull the images, you can use a similar command.</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">docker</span> pull ghcr.io/nautes-labs/devops-sample:0.0.1-bdcdba83f17169db12e95bc9ff0592ace612016b
</code></pre></div><h3 id="view-image-configuration-in-deployment-manifest"><a href="#view-image-configuration-in-deployment-manifest" class="header-anchor">#</a> View Image Configuration in Deployment Manifest</h3> <p>If the pipelines include tasks to update Kubernetes manifests and have been successfully executed, you can observe that the container image tags have been automatically updated to the versions containing the latest commit ID in the files within the deployment configuration repository (for example: <code>deployments/test/devops-sample.yaml</code>). The configuration snippet is as follows:</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">template</span><span class="token punctuation">:</span>
    <span class="token key atrule">spec</span><span class="token punctuation">:</span>
      <span class="token key atrule">containers</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> ks<span class="token punctuation">-</span>sample
          <span class="token key atrule">image</span><span class="token punctuation">:</span> ghcr.io/nautes<span class="token punctuation">-</span>labs/devops<span class="token punctuation">-</span>sample<span class="token punctuation">:</span>0.0.1<span class="token punctuation">-</span>bdcdba83f17169db12e95bc9ff0592ace612016b
</code></pre></div><h2 id="view-deployment-results"><a href="#view-deployment-results" class="header-anchor">#</a> View Deployment Results</h2> <h3 id="view-resources-in-argocd"><a href="#view-resources-in-argocd" class="header-anchor">#</a> View Resources in ArgoCD</h3> <p>Access the ArgoCD console installed on the runtime cluster by using a browser to access <code>https://$argocdHost:$traefik-httpsNodePort</code>. Click <code>LOG IN VIA DEX</code> for unified authentication. If you haven't logged into GitLab in the current browser session, you'll need to enter your GitLab account and password to log in. After successful login, the page will automatically redirect to the ArgoCD console.</p> <blockquote><p>Replace the $argocdHost variable with the argocdHost address of the runtime cluster. For more information, refer to <code>spec.argocdHost</code> in the property template in the <a href="/en/guide/user-guide/deploy-an-application.html#register-physical-cluster">Register Physical Cluster</a> or <a href="/en/guide/user-guide/deploy-an-application.html#register-virtual-cluster">Register Virtual Cluster</a> section, for example, <code>argocd.vcluster-aliyun-0412.8.217.50.114.nip.io</code>.</p> <p>Replace the $traefik-httpsNodePort variable with the traefik port of the runtime cluster. For more information, refer to <code>spec.traefik.httpsNodePort</code> in the property template in the <a href="/en/guide/user-guide/deploy-an-application.html#register-physical-cluster">Register Physical Cluster</a> or <a href="/en/guide/user-guide/deploy-an-application.html#register-virtual-cluster">Register Virtual Cluster</a> section, for example, <code>30443</code>.</p></blockquote> <p>The ArgoCD console lists ArgoCD applications related to products authorized for you, and you will be able to view and manage related resources. By clicking on an ArgoCD application card, you can view the resource manifest, YAML, events, logs, and perform operations such as synchronization, restart, and deletion. By clicking on &quot;Settings&quot; in the left menu bar of the ArgoCD console, you can also view ArgoCD projects related to authorized products.</p> <p><img src="/assets/img/quickstart-argocd-2.eb62cc93.png" alt="directive syntax graph"></p> <h3 id="view-resources-in-kubernetes"><a href="#view-resources-in-kubernetes" class="header-anchor">#</a> View Resources in Kubernetes</h3> <p>You can perform unified authentication using a standard OIDC client and obtain an ID Token, and use the ID Token as an authentication credential for kubectl to access Kubernetes as an authenticated user on the server.
The section describes how to perform unified authentication and obtain an ID Token using an example client provided by DEX.</p> <p>You can obtain <a href="https://github.com/dexidp/dex/tree/master/examples/example-app" target="_blank" rel="noopener noreferrer">the source code of the client<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, and compile the source code into a binary file. You can start the client using the following command, and the client will provide a WEB UI for unified authentication and return the authentication result.</p> <div class="language-shell extra-class"><pre class="language-shell"><code>./example-app <span class="token punctuation">\</span>
 --client-id <span class="token string">&quot;<span class="token variable">$client_id</span>&quot;</span> <span class="token punctuation">\</span>
 --client-secret <span class="token string">&quot;<span class="token variable">$client_secret</span>&quot;</span> <span class="token punctuation">\</span>
 <span class="token parameter variable">--issuer</span> <span class="token string">&quot;<span class="token variable">$dex_url</span>&quot;</span> <span class="token punctuation">\</span>
 --issuer-root-ca <span class="token string">&quot;<span class="token variable">$dex_ca</span>&quot;</span> <span class="token punctuation">\</span>
 <span class="token parameter variable">--listen</span> <span class="token string">&quot;http://0.0.0.0:5555&quot;</span> <span class="token punctuation">\</span>
 --redirect-uri <span class="token string">&quot;http://<span class="token variable">$ip</span>:5555/callback&quot;</span> <span class="token operator">&gt;</span> /tmp/dex-client.log <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span> <span class="token operator">&amp;</span>
</code></pre></div><p>The variables <code>$client_id</code> and <code>$client_secret</code> are the client secrets issued by DEX, <code>$dex_url</code> is the service address of DEX, <code>$dex_ca</code> is the HTTPS certificate of DEX, and <code>$ip</code> is the IP address of the server where the client is running.</p> <p>In order to access the client WEB UI, you also need to add an inbound rule for port <code>5555</code>. Visit the <a href="/en/guide/user-guide/installation.html#check-the-installation-results">ArgoCD of the Tenant Management Cluster</a> and add the redirect URI of the client under the <code>data.staticClients.id[0].redirectURIs</code> path in the <code>dex</code> ConfigMap of the <code>nautes</code> Application.</p> <p>After the service is started, you can access the client on port <code>5555</code>, fill in the <code>Extra scopes</code> with <code>groups</code>, and click <code>Login</code> for unified authentication.</p> <p><img src="/assets/img/quickstart-dex-1.d7a4cd0f.png" alt="directive syntax graph"></p> <p>If authentication is successful, an ID Token will be generated, and the example is as shown below:</p> <div class="language-Shell extra-class"><pre class="language-shell"><code>eyJhbGciOiJSUzI1NiIsImtpZCI6IjA2OGUyODFmN2FkYTk2NjNmMWI0MTc0NGFhYTUzZDRmYjk0N2Q1YjMifQ.eyJpc3MiOiJodHRwczovL2RleC5ibHV6aW4uaW86OTA4MCIsInN1YiI6IkNnSXhNaElHWjJsMGJHRmkiLCJhdWQiOiJwbGF0Zm9ybSIsImV4cCI6MTY4MDg3Mjc2MiwiaWF0IjoxNjgwNzg2MzYyLCJhdF9oYXNoIjoiWTNNbnRHLTE3SERaWjNVb0hiNWdmUSIsImNfaGFzaCI6IlBGUXNEM1hPSkhNZ1B3RW1LNXl5bEEiLCJlbWFpbCI6ImxpdWp1bmhvbmdAdmlzcHJhY3RpY2UuY29tIiwiZW1haWxfdmVyaWZpZWQiOnRydWUsImdyb3VwcyI6WyJ5dW50aSIsIm5hdXRlcy1sYWJzIiwidGVrdG9uY2QiLCJkZXYtdGVuYW50IiwieXVudGkvc3ViZ3JvdXAiLCJ5dW50aS9zdWJncm91cC9zdWJzdWJncm91cCJdLCJuYW1lIjoibGl1anVuaG9uZyIsInByZWZlcnJlZF91c2VybmFtZSI6ImxpdWp1bmhvbmcifQ.AYiLwJMcVaJdVdF-j_RZnHCPpg1psF3CJlzlBzvBYcuI_t7slgRaumRmGJEYXHYn2QFxjEZCNnBiOpJDDJoitVTxi1qoZ2nNoxhB3Wtxc1MoqkiPR5wy49yHw5roTnqIuEBy5BMpN_embxB9vK1bwxf414PsYKm1Dhbj8dynpURjpTsLrN5k7zVC7RQxVvglNX4cgYEucvSLqMEdtHNlmtnRsl6DJuItxC0MYwXlp4C9FNWswUjSpargdX4wgqfYy91l66GiI2Xj_zdba0NHLcPean-nmBMObLNhxex4hj8IVcGyiEu9in87y8eisrCBoLEWP9SJ_ZxWiOPoTFr54A
</code></pre></div><p>You can use the ID Token to replace the authentication information in kubeconfig:</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token comment"># Replace the configuration of users in the kubeconfig file with the ID Token.</span>
<span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1
<span class="token key atrule">clusters</span><span class="token punctuation">:</span>
<span class="token punctuation">...</span><span class="token punctuation">...</span>
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Config
<span class="token key atrule">preferences</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token key atrule">users</span><span class="token punctuation">:</span>
<span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> user
  <span class="token key atrule">user</span><span class="token punctuation">:</span>
    <span class="token key atrule">token</span><span class="token punctuation">:</span> $ID<span class="token punctuation">-</span>Token
</code></pre></div><p>If your runtime cluster type is virtual, you can obtain the kubeconfig file using the command line:</p> <div class="language-Shell extra-class"><pre class="language-shell"><code><span class="token comment"># Replace the $VCLUSTER variable with the name of the virtual cluster.</span>
kubectl get secret vc-<span class="token variable">$VCLUSTER</span>-vcluster <span class="token parameter variable">-n</span> <span class="token variable">$VCLUSTER</span> <span class="token parameter variable">--template</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>.data.config<span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">|</span> base64 <span class="token parameter variable">-d</span>
</code></pre></div><p>After applying the kubeconfig file, you can use the kubectl command line to view the resources in the namespace with the same name as the deployment runtime, and you have management permissions for all resources in the namespace.</p> <div class="language-Shell extra-class"><pre class="language-shell"><code><span class="token comment"># Apply the kubeconfig.</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">KUBECONFIG</span><span class="token operator">=</span>/opt/vcluster/kubeconfig-dex.yaml
<span class="token comment"># Use the kubectl command line to manage resources in the namespace. The following command lines are only examples.</span>
kubectl get deployment <span class="token parameter variable">-n</span> deployment-runtime-1
kubectl delete deployment deployment-test <span class="token parameter variable">-n</span> deployment-runtime-1
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/en/guide/user-guide/deployment-runtime.html" class="prev">
        Maintain Deployment-Runtime
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.74e57857.js" defer></script><script src="/assets/js/2.5cda13a8.js" defer></script><script src="/assets/js/3.bdfef2d9.js" defer></script>
  </body>
</html>
