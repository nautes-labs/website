(window.webpackJsonp=window.webpackJsonp||[]).push([[83],{359:function(a,t,s){"use strict";s.r(t);var e=s(14),n=Object(e.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"维护项目"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#维护项目"}},[a._v("#")]),a._v(" 维护项目")]),a._v(" "),t("p",[a._v("请确保您已阅读 "),t("RouterLink",{attrs:{to:"/guide/user-guide/main-process.html"}},[a._v("主体流程")]),a._v(" 章节，了解部署应用的主体流程和相关术语。")],1),a._v(" "),t("p",[a._v("通过维护"),t("RouterLink",{attrs:{to:"/guide/user-guide/product.html"}},[a._v("产品")]),a._v("和项目，您可以构建和微服务架构一致的管理单元。")],1),a._v(" "),t("p",[a._v("一个产品包含多个项目。项目是 GitLab 中托管代码的基本单位，项目授权机制可以在单个项目级别对用户进行权限管理，适用于需要对特定项目进行细粒度权限控制的场景。")]),a._v(" "),t("p",[a._v("支持通过 "),t("RouterLink",{attrs:{to:"/guide/user-guide/deploy-an-application.html#准备运行环境"}},[a._v("命令行")]),a._v(" 和 API 两种方式维护项目。")],1),a._v(" "),t("h2",{attrs:{id:"前提条件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#前提条件"}},[a._v("#")]),a._v(" 前提条件")]),a._v(" "),t("h3",{attrs:{id:"创建-access-token"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建-access-token"}},[a._v("#")]),a._v(" 创建 access token")]),a._v(" "),t("p",[a._v("您需要创建一个 access token，作为请求 API 的请求头。详情参考"),t("RouterLink",{attrs:{to:"/guide/user-guide/deploy-an-application.html#注册-gitlab-账号"}},[a._v("注册 GitLab 账号")]),a._v("。")],1),a._v(" "),t("h3",{attrs:{id:"导入证书"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#导入证书"}},[a._v("#")]),a._v(" 导入证书")]),a._v(" "),t("p",[a._v("如果您想使用 https 协议访问 Nautes API Server，请"),t("RouterLink",{attrs:{to:"/guide/user-guide/deploy-an-application.html#导入证书"}},[a._v("导入证书")]),a._v("。")],1),a._v(" "),t("h3",{attrs:{id:"创建产品"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建产品"}},[a._v("#")]),a._v(" 创建产品")]),a._v(" "),t("p",[a._v("请确保至少创建一个"),t("RouterLink",{attrs:{to:"/guide/user-guide/product.html"}},[a._v("产品")]),a._v("，用于关联项目。")],1),a._v(" "),t("h2",{attrs:{id:"创建和更新项目-api"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建和更新项目-api"}},[a._v("#")]),a._v(" 创建和更新项目（API）")]),a._v(" "),t("ol",[t("li",[a._v("通过接口定义 "),t("code",[a._v("Project_SaveProject")]),a._v(" 生成 API 请求示例，并添加 access token 作为请求头。")])]),a._v(" "),t("div",{staticClass:"language-Shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 替换变量 $api-server-address 为 Nautes API Server 的访问地址")]),a._v("\n\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 替换变量 $gitlab-access-token 为 GitLab 访问令牌")]),a._v("\n\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# $product_name，项目所属产品的名称")]),a._v("\n\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# $project_name，项目名称")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-X")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'POST'")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'HTTP://$api-server-address/api/v1/products/$product_name/projects/$project_name'")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-H")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'accept: application/json'")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-H")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'Content-Type: application/json'")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-H")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'Authorization: Bearer $gitlab-access-token'")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'{\n\t\t  # 项目的开发语言\n          \"language\": $project_language\n        }'")]),a._v("\n")])])]),t("p",[a._v("替换变量后的请求示例如下：")]),a._v(" "),t("div",{staticClass:"language-Shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("    "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-X")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'POST'")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'HTTP://xxx.xxx.xxx.xxx:xxxxx/api/v1/products/nautes-labs/projects/api-server'")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-H")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'accept: application/json'")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-H")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'Content-Type: application/json'")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-H")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'Authorization: Bearer  xxxxxxxxxxxxxxxxxxxx'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('\'{\n          "language": "Go"\n        }\'')]),a._v("\n")])])]),t("ol",{attrs:{start:"2"}},[t("li",[a._v("使用 curl 命令或者其他工具执行 API 请求，以新增项目。"),t("br"),a._v("\n请求成功后，将在指定产品的 "),t("code",[a._v("default.project")]),a._v("  代码库中生成项目的资源文件。项目的资源文件示例如下：")])]),a._v(" "),t("div",{staticClass:"language-yaml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[a._v("    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("apiVersion")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" nautes.resource.nautes.io/v1alpha1\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("kind")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" Project\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("metadata")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" nautes"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("labs\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("namespace")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" nautes\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("spec")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("language")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Go"')]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("product")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"nautes-labs"')]),a._v("\n")])])]),t("blockquote",[t("p",[a._v("请求 API 更新项目时也将更新项目的资源文件。")]),a._v(" "),t("p",[a._v("只有当您的账号是 GitLab 的 group 成员，同时有 "),t("code",[a._v("default.project")]),a._v("  代码库的 main 分支的写入权限，才可以创建或者更新项目。")])]),a._v(" "),t("h2",{attrs:{id:"删除项目-api"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#删除项目-api"}},[a._v("#")]),a._v(" 删除项目（API）")]),a._v(" "),t("blockquote",[t("p",[a._v("在删除项目之前，请先删除与项目关联的所有实体和资源，例如：代码库和部署运行时等，否则将不能执行删除。")])]),a._v(" "),t("ol",[t("li",[a._v("通过接口定义 "),t("code",[a._v("Project_DeleteProject")]),a._v(" 生成 API 请求示例，并添加 access token 作为请求头。")])]),a._v(" "),t("div",{staticClass:"language-Shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("    "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-X")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'DELETE'")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'HTTP://$api-server-address/api/v1/products/$product_name/projects/$project_name'")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-H")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'accept: application/json'")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n\t  "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-H")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'Authorization: Bearer $gitlab-access-token'")]),a._v(" \n")])])]),t("p",[a._v("替换变量后的请求示例如下：")]),a._v(" "),t("div",{staticClass:"language-Shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("    "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-X")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'DELETE'")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'HTTP://xxx.xxx.xxx.xxx:xxxxx/api/v1/products/nautes-labs/projects/api-server'")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-H")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'accept: application/json'")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-H")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'Authorization: Bearer xxxxxxxxxxxxxxxxxxxx'")]),a._v("\n")])])]),t("ol",{attrs:{start:"2"}},[t("li",[a._v("使用 curl 命令或者其他工具执行 API 请求，以删除项目。"),t("br"),a._v("\n请求成功后，将删除在指定产品的 "),t("code",[a._v("default.project")]),a._v("  代码库中的项目资源文件。")])]),a._v(" "),t("blockquote",[t("p",[a._v("只有当您的账号是 GitLab 的 group 成员，同时有 "),t("code",[a._v("default.project")]),a._v("  代码库的 main 分支的写入代码权限，才可以删除项目。")])]),a._v(" "),t("h2",{attrs:{id:"查询项目列表-api"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查询项目列表-api"}},[a._v("#")]),a._v(" 查询项目列表（API）")]),a._v(" "),t("ol",[t("li",[a._v("通过接口定义 "),t("code",[a._v("Project_ListProjects")]),a._v(" 生成 API 请求示例，并添加 access token 作为请求头。")])]),a._v(" "),t("div",{staticClass:"language-Shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("  "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-X")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'GET'")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'HTTP://$api-server-address/api/v1/products/$product_name/projects'")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-H")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'accept: application/json'")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-H")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'Authorization: Bearer $gitlab-access-token'")]),a._v(" \n")])])]),t("p",[a._v("替换变量后的请求示例如下：")]),a._v(" "),t("div",{staticClass:"language-Shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("  "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-X")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'GET'")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'HTTP://xxx.xxx.xxx.xxx:xxxxx/api/v1/products/nautes-labs/projects'")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-H")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'accept: application/json'")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-H")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'Authorization: Bearer xxxxxxxxxxxxxxxxxxxx'")]),a._v(" \n")])])]),t("ol",{attrs:{start:"2"}},[t("li",[a._v("使用 curl 命令或者其他工具执行 API 请求，以查询项目列表。"),t("br"),a._v("\n请求成功后，将返回指定产品的项目列表。项目列表的返回值示例如下：")])]),a._v(" "),t("div",{staticClass:"language-yaml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[a._v("\t"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v('"items"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n                "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v('"product"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"nautes-labs"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n                "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v('"name"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"api-server"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n                "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v('"language"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"GO"')]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n                "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v('"product"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"nautes-labs"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n                "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v('"name"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"cluster-operator"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n                "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v('"language"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"GO"')]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),t("blockquote",[t("p",[a._v("只有当您的账号是 GitLab 的 group 成员，同时有 "),t("code",[a._v("default.project")]),a._v("  代码库的 main 分支的读取权限，才可以查询到被授权产品的项目列表。")])]),a._v(" "),t("h2",{attrs:{id:"查询项目详情-api"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查询项目详情-api"}},[a._v("#")]),a._v(" 查询项目详情（API）")]),a._v(" "),t("ol",[t("li",[a._v("通过接口定义 "),t("code",[a._v("Project_GetProject")]),a._v(" 生成 API 请求示例，并添加 access token 作为请求头。")])]),a._v(" "),t("div",{staticClass:"language-Shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-X")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'GET'")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'HTTP://$api-server-address/api/v1/products/$product_name/projects/$project_name'")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-H")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'accept: application/json'")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-H")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'Authorization: Bearer $gitlab-access-token'")]),a._v(" \n")])])]),t("p",[a._v("替换变量后的请求示例如下：")]),a._v(" "),t("div",{staticClass:"language-Shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("  "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-X")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'GET'")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'HTTP://xxx.xxx.xxx.xxx:xxxxx/api/v1/products/nautes-labs/projects/api-server'")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-H")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'accept: application/json'")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-H")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'Authorization: Bearer xxxxxxxxxxxxxxxxxxxx'")]),a._v(" \n")])])]),t("ol",{attrs:{start:"2"}},[t("li",[a._v("使用 curl 命令或者其他工具（如 Postman、JMeter）执行 API 请求，以查询项目详情。"),t("br"),a._v("\n请求成功后，将返回指定产品的项目详情。项目详情的返回值示例如下：")])]),a._v(" "),t("div",{staticClass:"language-yaml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[a._v("    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v('"product"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"nautes-labs"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v('"name"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"api-server"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v('"language"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"GO"')]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),t("blockquote",[t("p",[a._v("只有当您的账号是 GitLab 的 group 成员，同时有 "),t("code",[a._v("default.project")]),a._v("  代码库的 main 分支的读取权限，才可以查询到被授权产品的项目详情。")])]),a._v(" "),t("h2",{attrs:{id:"强制创建-更新-删除项目-api"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#强制创建-更新-删除项目-api"}},[a._v("#")]),a._v(" 强制创建/更新/删除项目（API ）")]),a._v(" "),t("p",[a._v("适用于需要跳过校验的特殊场景，详情参见"),t("RouterLink",{attrs:{to:"/guide/user-guide/code-repo.html#强制创建更新删除代码库api"}},[a._v("维护代码库")]),a._v("。")],1),a._v(" "),t("p",[a._v("以创建项目为例，当产品中存在不合规的资源（如关联了非法集群的环境），按照正常流程，校验方法会因为存在不合规资源判定校验不通过，从而不允许创建项目。然而，通过启用 "),t("code",[a._v("insecure_skip_check")]),a._v(" 参数并设置其值为 true，可以跳过校验方法并强制提交请求。请求示例如下：")]),a._v(" "),t("div",{staticClass:"language-Shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("    "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-X")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'POST'")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'HTTP://xxx.xxx.xxx.xxx:xxxxx/api/v1/products/nautes-labs/projects/cluster-operator?insecure_skip_check=true '")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-H")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'accept: application/json'")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-H")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'Content-Type: application/json'")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-H")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'Authorization: Bearer  xxxxxxxxxxxxxxxxxxxx'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('\'{\n          "language": "Go"\n        }\'')]),a._v("\n")])])])])}),[],!1,null,null,null);t.default=n.exports}}]);