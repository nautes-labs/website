(window.webpackJsonp=window.webpackJsonp||[]).push([[79],{353:function(e,t,a){"use strict";a.r(t);var r=a(14),s=Object(r.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"clean-up-the-environment"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#clean-up-the-environment"}},[e._v("#")]),e._v(" Clean Up the Environment")]),e._v(" "),t("p",[e._v("This document describes the process of cleaning up all resources, data, and environment created in the "),t("RouterLink",{attrs:{to:"/en/guide/user-guide/deploy-an-application.html"}},[e._v("Deploy an Application")]),e._v(" section.")],1),e._v(" "),t("blockquote",[t("p",[e._v("The cleanup process will delete the application-related repository, which will result in all version records of the application being cleared and unrecoverable. Please ensure that the environment can be completely deleted or has been backed up.")])]),e._v(" "),t("h2",{attrs:{id:"prerequisites"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#prerequisites"}},[e._v("#")]),e._v(" Prerequisites")]),e._v(" "),t("h3",{attrs:{id:"deploy-an-application"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#deploy-an-application"}},[e._v("#")]),e._v(" Deploy an Application")]),e._v(" "),t("p",[e._v("Please ensure that an application has been successfully deployed in the runtime cluster.")]),e._v(" "),t("h3",{attrs:{id:"register-a-gitlab-account"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#register-a-gitlab-account"}},[e._v("#")]),e._v(" Register a GitLab Account")]),e._v(" "),t("p",[e._v("Please ensure that you have a Nautes GitLab account. For more information, refer to "),t("RouterLink",{attrs:{to:"/en/guide/user-guide/deploy-an-application.html#register-a-gitlab-account"}},[e._v("Register a GitLab account")]),e._v(".")],1),e._v(" "),t("h3",{attrs:{id:"import-certificates"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#import-certificates"}},[e._v("#")]),e._v(" Import Certificates")]),e._v(" "),t("p",[e._v("If you want to access Nautes API Server using the HTTPS protocol, you need to "),t("RouterLink",{attrs:{to:"/en/guide/user-guide/deploy-an-application.html#import-certificates"}},[e._v("import certificates")]),e._v(".")],1),e._v(" "),t("h2",{attrs:{id:"delete-runtime-environment"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#delete-runtime-environment"}},[e._v("#")]),e._v(" Delete Runtime Environment")]),e._v(" "),t("p",[e._v("Delete the relevant entities of the runtime environment, including a deployment runtime, a code repository, an environment, a project, and a product.")]),e._v(" "),t("ol",[t("li",[e._v("Clone the command-line repository to your local machine.")])]),e._v(" "),t("div",{staticClass:"language-Shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" clone https://github.com/nautes-labs/cli.git\n")])])]),t("ol",{attrs:{start:"2"}},[t("li",[e._v("Replace the variables in the runtime environment property template located at the relative path "),t("code",[e._v("examples/demo-product.yaml")]),e._v(", including "),t("code",[e._v("$suffix")]),e._v(", "),t("code",[e._v("$runtime-cluster")]),e._v(".")])]),e._v(" "),t("blockquote",[t("p",[e._v("For comments and examples of the runtime environment property template, refer to "),t("RouterLink",{attrs:{to:"/en/guide/user-guide/deploy-an-application.html#prepare-runtime-environment"}},[e._v("Prepare Runtime Environment")]),e._v(".")],1)]),e._v(" "),t("ol",{attrs:{start:"3"}},[t("li",[e._v("Download the "),t("a",{attrs:{href:"https://github.com/nautes-labs/cli/releases/tag/v0.2.0",target:"_blank",rel:"noopener noreferrer"}},[e._v("command-line tool"),t("OutboundLink")],1),e._v("  and run the following command to clean up the product's runtime environment.")])]),e._v(" "),t("div",{staticClass:"language-Shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# examples/demo-product.yaml refers to the relative path of the template file in the command-line repository.")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# gitlab-access-token refers to the GitLab access token.")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# api-server-address refers to the access address of the Nautes API Server.")]),e._v("\nnautes remove "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-f")]),e._v(" examples/demo-product.yaml "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-t")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$gitlab")]),e._v("-access-token "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-s")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$api")]),e._v("-server-address\n")])])]),t("h2",{attrs:{id:"delete-runtime-cluster"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#delete-runtime-cluster"}},[e._v("#")]),e._v(" Delete Runtime Cluster")]),e._v(" "),t("p",[e._v("Please choose the specific deletion steps according to the type of runtime cluster you registered.")]),e._v(" "),t("h3",{attrs:{id:"delete-physical-cluster"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#delete-physical-cluster"}},[e._v("#")]),e._v(" Delete Physical Cluster")]),e._v(" "),t("blockquote",[t("p",[e._v("Please ensure that a physical cluster has been successfully registered.")])]),e._v(" "),t("ol",[t("li",[e._v("Clone the command-line repository to your local machine.")])]),e._v(" "),t("div",{staticClass:"language-Shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" clone https://github.com/nautes-labs/cli.git\n")])])]),t("ol",{attrs:{start:"2"}},[t("li",[e._v("Replace the variables in the physical cluster property template located at the relative path "),t("code",[e._v("examples/demo-cluster-physical-worker.yaml")]),e._v(", including "),t("code",[e._v("$suffix")]),e._v(", "),t("code",[e._v("$api-server")]),e._v(", and "),t("code",[e._v("$kubeconfig")]),e._v(".")])]),e._v(" "),t("blockquote",[t("p",[e._v("For comments and examples of the physical cluster property template,  refer to  "),t("RouterLink",{attrs:{to:"/en/guide/user-guide/deploy-an-application.html#register-physical-cluster"}},[e._v("Register Physical Cluster")]),e._v(".")],1)]),e._v(" "),t("ol",{attrs:{start:"3"}},[t("li",[e._v("Download the "),t("a",{attrs:{href:"https://github.com/nautes-labs/cli/releases/tag/v0.2.0",target:"_blank",rel:"noopener noreferrer"}},[e._v("command-line tool"),t("OutboundLink")],1),e._v("  and run the following command to clean up the physical cluster.")])]),e._v(" "),t("div",{staticClass:"language-Shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[e._v("nautes remove "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-f")]),e._v(" examples/demo-cluster-physical-worker.yaml "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-t")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$gitlab")]),e._v("-access-token "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-s")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$api")]),e._v("-server-address\n")])])]),t("h3",{attrs:{id:"delete-virtual-cluster"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#delete-virtual-cluster"}},[e._v("#")]),e._v(" Delete Virtual Cluster")]),e._v(" "),t("blockquote",[t("p",[e._v("Please ensure that a virtual cluster has been successfully registered.")])]),e._v(" "),t("ol",[t("li",[e._v("Clone the command-line repository to your local machine.")])]),e._v(" "),t("div",{staticClass:"language-Shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" clone https://github.com/nautes-labs/cli.git\n")])])]),t("ol",{attrs:{start:"2"}},[t("li",[e._v("Replace the variables in the virtual cluster property template located at the relative path "),t("code",[e._v("examples/demo-cluster-virtual-worker.yaml")]),e._v(", including "),t("code",[e._v("$suffix")]),e._v(", "),t("code",[e._v("$api-server")]),e._v(", "),t("code",[e._v("$host-cluster")]),e._v(", and "),t("code",[e._v("$api-server-port")]),e._v(".")])]),e._v(" "),t("blockquote",[t("p",[e._v("For comments and examples of the virtual cluster property template, refer to step 4 of "),t("RouterLink",{attrs:{to:"/en/guide/user-guide/deploy-an-application.html#register-runtime-cluster"}},[e._v("Register Virtual Cluster")]),e._v(".")],1)]),e._v(" "),t("ol",{attrs:{start:"3"}},[t("li",[e._v("Download the "),t("a",{attrs:{href:"https://github.com/nautes-labs/cli/releases/tag/v0.2.0",target:"_blank",rel:"noopener noreferrer"}},[e._v("command-line tool"),t("OutboundLink")],1),e._v("  and run the following command to destroy the virtual cluster.")])]),e._v(" "),t("div",{staticClass:"language-Shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[e._v("nautes remove "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-f")]),e._v(" examples/demo-cluster-virtual-worker.yaml "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-t")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$gitlab")]),e._v("-access-token "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-s")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$api")]),e._v("-server-address\n")])])]),t("ol",{attrs:{start:"4"}},[t("li",[e._v("Replace the variables in the host cluster property template located at the relative path "),t("code",[e._v("examples/demo-cluster-host.yaml")]),e._v(", including "),t("code",[e._v("$suffix")]),e._v(", "),t("code",[e._v("$api-server")]),e._v(", and "),t("code",[e._v("$kubeconfig")]),e._v(".")])]),e._v(" "),t("blockquote",[t("p",[e._v("For comments and examples of the host cluster property template, refer to step 2 of "),t("RouterLink",{attrs:{to:"/en/guide/user-guide/deploy-an-application.html#register-runtime-cluster"}},[e._v("Register Virtual Cluster")]),e._v(".")],1)]),e._v(" "),t("ol",{attrs:{start:"5"}},[t("li",[e._v("Run the following command to clean up the host cluster.")])]),e._v(" "),t("div",{staticClass:"language-Shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[e._v("nautes remove "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-f")]),e._v(" examples/demo-cluster-host.yaml "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-t")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$gitlab")]),e._v("-access-token "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-s")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$api")]),e._v("-server-address\n")])])])])}),[],!1,null,null,null);t.default=s.exports}}]);