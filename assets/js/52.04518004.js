(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{336:function(e,a,t){"use strict";t.r(a);var s=t(14),r=Object(s.a)({},(function(){var e=this,a=e._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"clean-up-the-environment"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#clean-up-the-environment"}},[e._v("#")]),e._v(" Clean Up the Environment")]),e._v(" "),a("p",[e._v("This document describes the process of cleaning up all resources, data, and environment created in the "),a("RouterLink",{attrs:{to:"/en/guide/user-guide/clean-environment.html#run-a-pipeline.html"}},[e._v("Run a Pipeline")]),e._v(" and "),a("RouterLink",{attrs:{to:"/en/guide/user-guide/deploy-an-application.html"}},[e._v("Deploy an Application")]),e._v(" sections.")],1),e._v(" "),a("blockquote",[a("p",[e._v("The cleanup process will delete the application-related repository, which will result in all version records of the application being cleared and unrecoverable. Please ensure that the environment can be completely deleted or has been backed up.")])]),e._v(" "),a("h2",{attrs:{id:"prerequisites"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#prerequisites"}},[e._v("#")]),e._v(" Prerequisites")]),e._v(" "),a("h3",{attrs:{id:"run-a-pipeline-or-deploy-an-application"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#run-a-pipeline-or-deploy-an-application"}},[e._v("#")]),e._v(" Run a Pipeline or Deploy an Application")]),e._v(" "),a("p",[e._v("Please ensure that you have successfully completed running a pipeline or deploying an application in the runtime cluster.")]),e._v(" "),a("h3",{attrs:{id:"register-a-gitlab-account"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#register-a-gitlab-account"}},[e._v("#")]),e._v(" Register a GitLab Account")]),e._v(" "),a("p",[e._v("Please ensure that you have a Nautes GitLab account. For more information, refer to "),a("RouterLink",{attrs:{to:"/en/guide/user-guide/deploy-an-application.html#register-a-gitlab-account"}},[e._v("Register a GitLab account")]),e._v(".")],1),e._v(" "),a("h3",{attrs:{id:"import-certificates"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#import-certificates"}},[e._v("#")]),e._v(" Import Certificates")]),e._v(" "),a("p",[e._v("If you want to access Nautes API Server using the HTTPS protocol, you need to "),a("RouterLink",{attrs:{to:"/en/guide/user-guide/deploy-an-application.html#import-certificates"}},[e._v("import certificates")]),e._v(".")],1),e._v(" "),a("h2",{attrs:{id:"delete-runtime"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#delete-runtime"}},[e._v("#")]),e._v(" Delete Runtime")]),e._v(" "),a("p",[e._v("Please choose the specific deletion steps according to the type of runtime based on the specific actions performed in the previous sections.")]),e._v(" "),a("h3",{attrs:{id:"delete-pipeline-runtime"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#delete-pipeline-runtime"}},[e._v("#")]),e._v(" Delete Pipeline Runtime")]),e._v(" "),a("p",[e._v("Delete the related entities of the pipeline runtime, including a pipeline runtime, a code repository, code repository permissions, an environment, a project, and a product.")]),e._v(" "),a("p",[e._v("Clone the command-line repository to your local machine.")]),e._v(" "),a("div",{staticClass:"language-Shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" clone https://github.com/nautes-labs/cli.git\n")])])]),a("p",[e._v("Replace the variables in the pipeline runtime template located at the relative path "),a("code",[e._v("examples/demo-pipeline.yaml")]),e._v(", including "),a("code",[e._v("$suffix")]),e._v(", "),a("code",[e._v("$pipeline-runtime-cluster")]),e._v(".")]),e._v(" "),a("p",[e._v("Replace the variables in the product template located at the relative path "),a("code",[e._v("examples/demo-product.yaml")]),e._v(", including "),a("code",[e._v("$suffix")]),e._v(".")]),e._v(" "),a("blockquote",[a("p",[e._v("For comments and examples of the template, refer to "),a("RouterLink",{attrs:{to:"/en/guide/user-guide/deploy-an-application.html#initialize-a-product"}},[e._v("Initialize a Product")]),e._v(".")],1)]),e._v(" "),a("p",[e._v("Download the "),a("a",{attrs:{href:"https://github.com/nautes-labs/cli/releases/tag/v0.3.8",target:"_blank",rel:"noopener noreferrer"}},[e._v("command-line tool"),a("OutboundLink")],1),e._v("  and run the following command to clean up the product and runtime.")]),e._v(" "),a("div",{staticClass:"language-Shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# examples/demo-product.yaml and examples/demo-pipeline.yaml refer to the relative path of the template file in the command-line repository.")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# gitlab-access-token refers to the GitLab access token.")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# api-server-address refers to the access address of the Nautes API Server.")]),e._v("\nnautes remove "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-f")]),e._v(" examples/demo-pipeline.yaml "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-t")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$gitlab")]),e._v("-access-token "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-s")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$api")]),e._v("-server-address\nnautes remove "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-f")]),e._v(" examples/demo-product.yaml "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-t")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$gitlab")]),e._v("-access-token "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-s")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$api")]),e._v("-server-address\n")])])]),a("h3",{attrs:{id:"delete-deployment-runtime"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#delete-deployment-runtime"}},[e._v("#")]),e._v(" Delete Deployment Runtime")]),e._v(" "),a("p",[e._v("Delete the related entities of the deployment runtime, including a deployment runtime, a code repository, code repository permissions, an environment, a project, and a product.")]),e._v(" "),a("p",[e._v("Clone the command-line repository to your local machine.")]),e._v(" "),a("div",{staticClass:"language-Shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" clone https://github.com/nautes-labs/cli.git\n")])])]),a("p",[e._v("Replace the variables in the deployment runtime template located at the relative path "),a("code",[e._v("examples/demo-deployment.yaml")]),e._v(", including "),a("code",[e._v("$suffix")]),e._v(", "),a("code",[e._v("$deployment-runtime-cluster")]),e._v(".")]),e._v(" "),a("p",[e._v("Replace the variables in the product template located at the relative path "),a("code",[e._v("examples/demo-product.yaml")]),e._v(", including "),a("code",[e._v("$suffix")]),e._v(".")]),e._v(" "),a("blockquote",[a("p",[e._v("For comments and examples of th template, refer to "),a("RouterLink",{attrs:{to:"/en/guide/user-guide/deploy-an-application.html#initialize-a-product"}},[e._v("Initialize a Product")]),e._v(".")],1)]),e._v(" "),a("p",[e._v("Download the "),a("a",{attrs:{href:"https://github.com/nautes-labs/cli/releases/tag/v0.3.8",target:"_blank",rel:"noopener noreferrer"}},[e._v("command-line tool"),a("OutboundLink")],1),e._v("  and run the following command to clean up the product and runtime.")]),e._v(" "),a("div",{staticClass:"language-Shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# examples/demo-product.yaml and examples/demo-deployment.yaml refer to the relative path of the template file in the command-line repository.")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# gitlab-access-token refers to the GitLab access token.")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# api-server-address refers to the access address of the Nautes API Server.")]),e._v("\nnautes remove "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-f")]),e._v(" examples/demo-deployment.yaml "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-t")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$gitlab")]),e._v("-access-token "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-s")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$api")]),e._v("-server-address\nnautes remove "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-f")]),e._v(" examples/demo-product.yaml "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-t")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$gitlab")]),e._v("-access-token "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-s")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$api")]),e._v("-server-address\n")])])]),a("h2",{attrs:{id:"delete-runtime-cluster"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#delete-runtime-cluster"}},[e._v("#")]),e._v(" Delete Runtime Cluster")]),e._v(" "),a("p",[e._v("Please choose the specific deletion steps according to the type and usage of runtime cluster you registered.")]),e._v(" "),a("h3",{attrs:{id:"delete-physical-cluster"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#delete-physical-cluster"}},[e._v("#")]),e._v(" Delete Physical Cluster")]),e._v(" "),a("blockquote",[a("p",[e._v("Please ensure that a physical cluster has been successfully registered.")])]),e._v(" "),a("p",[e._v("Clone the command-line repository to your local machine.")]),e._v(" "),a("div",{staticClass:"language-Shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" clone https://github.com/nautes-labs/cli.git\n")])])]),a("p",[e._v("Replace the variables in the physical cluster property template located at the relative path "),a("code",[e._v("examples/demo-cluster-physical-worker-pipeline.yaml")]),e._v(" or "),a("code",[e._v("examples/demo-cluster-physical-worker-deployment.yaml")]),e._v(", including "),a("code",[e._v("$suffix")]),e._v(", "),a("code",[e._v("$api-server")]),e._v(", and "),a("code",[e._v("$kubeconfig")]),e._v(".")]),e._v(" "),a("blockquote",[a("p",[e._v("For comments and examples of the physical cluster property template,  refer to  "),a("RouterLink",{attrs:{to:"/en/guide/user-guide/deploy-an-application.html#register-physical-cluster"}},[e._v("Register Physical Cluster")]),e._v(".")],1)]),e._v(" "),a("p",[e._v("Download the "),a("a",{attrs:{href:"https://github.com/nautes-labs/cli/releases/tag/v0.3.8",target:"_blank",rel:"noopener noreferrer"}},[e._v("command-line tool"),a("OutboundLink")],1),e._v("  and run the following command to clean up the physical cluster.")]),e._v(" "),a("div",{staticClass:"language-Shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[e._v("nautes remove "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-f")]),e._v(" examples/demo-cluster-physical-worker-pipeline.yaml "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-t")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$gitlab")]),e._v("-access-token "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-s")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$api")]),e._v("-server-address\n")])])]),a("p",[e._v("or")]),e._v(" "),a("div",{staticClass:"language-Shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[e._v("nautes remove "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-f")]),e._v(" examples/demo-cluster-physical-worker-deployment.yaml "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-t")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$gitlab")]),e._v("-access-token "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-s")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$api")]),e._v("-server-address\n")])])]),a("h3",{attrs:{id:"delete-virtual-cluster"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#delete-virtual-cluster"}},[e._v("#")]),e._v(" Delete Virtual Cluster")]),e._v(" "),a("blockquote",[a("p",[e._v("Please ensure that a virtual cluster has been successfully registered.")])]),e._v(" "),a("p",[e._v("Clone the command-line repository to your local machine.")]),e._v(" "),a("div",{staticClass:"language-Shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" clone https://github.com/nautes-labs/cli.git\n")])])]),a("p",[e._v("Replace the variables in the virtual cluster property template located at the relative path "),a("code",[e._v("examples/demo-cluster-virtual-worker-pipeline.yaml")]),e._v(" or "),a("code",[e._v("examples/demo-cluster-virtual-worker-deployment.yaml")]),e._v(", including "),a("code",[e._v("$suffix")]),e._v(", "),a("code",[e._v("$api-server")]),e._v(", "),a("code",[e._v("$host-cluster")]),e._v(", and "),a("code",[e._v("$api-server-port")]),e._v(".")]),e._v(" "),a("blockquote",[a("p",[e._v("For comments and examples of the virtual cluster property template, refer to "),a("RouterLink",{attrs:{to:"/en/guide/user-guide/deploy-an-application.html#register-runtime-cluster"}},[e._v("Register Virtual Cluster")]),e._v(".")],1)]),e._v(" "),a("p",[e._v("Download the "),a("a",{attrs:{href:"https://github.com/nautes-labs/cli/releases/tag/v0.3.8",target:"_blank",rel:"noopener noreferrer"}},[e._v("command-line tool"),a("OutboundLink")],1),e._v("  and run the following command to destroy the virtual cluster.")]),e._v(" "),a("div",{staticClass:"language-Shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[e._v("nautes remove "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-f")]),e._v(" examples/demo-cluster-virtual-worker-pipeline.yaml "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-t")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$gitlab")]),e._v("-access-token "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-s")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$api")]),e._v("-server-address\n")])])]),a("p",[e._v("or")]),e._v(" "),a("div",{staticClass:"language-Shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[e._v("nautes remove "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-f")]),e._v(" examples/demo-cluster-virtual-worker-deployment.yaml "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-t")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$gitlab")]),e._v("-access-token "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-s")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$api")]),e._v("-server-address\n")])])]),a("p",[e._v("Replace the variables in the host cluster property template located at the relative path "),a("code",[e._v("examples/demo-cluster-host.yaml")]),e._v(", including "),a("code",[e._v("$suffix")]),e._v(", "),a("code",[e._v("$api-server")]),e._v(", and "),a("code",[e._v("$kubeconfig")]),e._v(".")]),e._v(" "),a("blockquote",[a("p",[e._v("For comments and examples of the host cluster property template, refer to "),a("RouterLink",{attrs:{to:"/en/guide/user-guide/deploy-an-application.html#register-runtime-cluster"}},[e._v("Register Virtual Cluster")]),e._v(".")],1)]),e._v(" "),a("p",[e._v("Run the following command to clean up the host cluster.")]),e._v(" "),a("div",{staticClass:"language-Shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[e._v("nautes remove "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-f")]),e._v(" examples/demo-cluster-host.yaml "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-t")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$gitlab")]),e._v("-access-token "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-s")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$api")]),e._v("-server-address\n")])])])])}),[],!1,null,null,null);a.default=r.exports}}]);